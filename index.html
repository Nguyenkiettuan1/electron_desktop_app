<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üöÄ Test Automation Screen Auto - Desktop App</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-content">
          <h1>üöÄ Test Automation Screen Auto</h1>
          <div class="header-actions">
            <button id="minimize-btn" class="header-btn">‚àí</button>
            <button id="maximize-btn" class="header-btn">‚ñ°</button>
            <button id="close-btn" class="header-btn">‚úñ</button>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="app-main">
        <!-- Login Section -->
        <div id="login-section" class="section">
          <div class="login-container">
            <h2>üîê Login</h2>
            <form id="login-form" class="login-form">
              <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" required />
              </div>
              <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" required />
              </div>
              <button type="submit" class="btn btn-primary">Login</button>
            </form>
          </div>
        </div>

        <!-- Main Interface -->
        <div id="main-interface" class="section hidden">
          <!-- User Info -->
          <div class="user-info">
            <h3>üë§ Welcome, <span id="user-name"></span></h3>
            <div style="display: flex; gap: 10px">
              <button id="settings-btn" class="btn btn-secondary">
                ‚öôÔ∏è Settings
              </button>
              <button id="logout-btn" class="btn btn-secondary">Logout</button>
            </div>
          </div>

          <!-- Workflow Steps -->
          <div class="workflow-container">
            <!-- Step 1: Session Setup -->
            <div class="workflow-step">
              <div class="step-header">
                <h3>üéØ Step 1: Start Session</h3>
                <div class="step-status" id="session-status">Not Started</div>
              </div>
              <div class="step-content">
                <div class="form-row">
                  <div class="form-group">
                    <label for="region">Region</label>
                    <div class="region-container">
                      <input
                        type="text"
                        id="region"
                        class="form-control"
                        placeholder="Search or select region..."
                        autocomplete="off"
                      />
                      <div id="region-dropdown" class="region-dropdown hidden">
                        <div id="region-options"></div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="sport">Sport</label>
                    <div class="sport-container">
                      <input
                        type="text"
                        id="sport"
                        class="form-control"
                        placeholder="Search or select sport..."
                        autocomplete="off"
                      />
                      <div id="sport-dropdown" class="sport-dropdown hidden">
                        <div id="sport-options"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Sport Advanced Filters -->
                <div class="sport-filters-section">
                  <h4 style="margin-bottom: 15px; color: #495057">
                    üîç Sport Filters (Optional)
                  </h4>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="sport-league">League (M√πa gi·∫£i)</label>
                      <input
                        type="text"
                        id="sport-league"
                        class="form-control"
                        placeholder="e.g., Premier League, La Liga..."
                      />
                    </div>
                    <div class="form-group">
                      <label for="sport-match-name"
                        >Match Name (T√™n tr·∫≠n)</label
                      >
                      <input
                        type="text"
                        id="sport-match-name"
                        class="form-control"
                        placeholder="e.g., Manchester, Liverpool..."
                      />
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="sport-start-time">Start Time (T·ª´)</label>
                      <input
                        type="text"
                        id="sport-start-time"
                        class="form-control"
                        placeholder="YYYY-MM-DD HH:MM"
                      />
                    </div>
                    <div class="form-group">
                      <label for="sport-end-time">End Time (ƒê·∫øn)</label>
                      <input
                        type="text"
                        id="sport-end-time"
                        class="form-control"
                        placeholder="YYYY-MM-DD HH:MM"
                      />
                    </div>
                  </div>
                  <small class="form-help"
                    >üí° These filters will be applied when you click on the
                    Sport field to load options</small
                  >
                </div>

                <button id="start-session-btn" class="btn btn-success">
                  Start Session
                </button>
                <button id="stop-session-btn" class="btn btn-danger hidden">
                  Stop Session
                </button>
              </div>
            </div>

            <!-- Step 2: Screenshot -->
            <div class="workflow-step">
              <div class="step-header">
                <h3>üì∏ Step 2: Take Screenshot</h3>
                <div class="step-status" id="screenshot-status">Ready</div>
              </div>
              <div class="step-content">
                <div class="form-row">
                  <div class="form-group">
                    <label for="signal">Signal</label>
                    <div class="signal-container">
                      <input
                        type="text"
                        id="signal"
                        class="form-control"
                        placeholder="Search or select signal..."
                        autocomplete="off"
                      />
                      <div id="signal-dropdown" class="signal-dropdown hidden">
                        <div id="signal-options"></div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="url">URL</label>
                    <input
                      type="text"
                      id="url"
                      class="form-control"
                      placeholder="Auto-detected or manual"
                    />
                    <button id="detect-url-btn" class="btn btn-secondary">
                      Auto Detect
                    </button>
                    <button id="detect-clipboard-btn" class="btn btn-info">
                      From Clipboard
                    </button>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label for="bucket-name">üìÅ Storage Folder</label>
                    <input
                      type="text"
                      id="bucket-name"
                      class="form-control"
                      placeholder="e.g., b1, b1/b2, match_20241201"
                    />
                    <small class="form-help">
                      üí° <strong>H∆∞·ªõng d·∫´n:</strong><br />
                      ‚Ä¢ <code>b1</code> ‚Üí file l∆∞u trong folder b1<br />
                      ‚Ä¢ <code>b1/b2</code> ‚Üí file l∆∞u trong folder b2 (b√™n trong
                      b1)<br />
                      ‚Ä¢ <code>match_20241201</code> ‚Üí file l∆∞u trong folder
                      match_20241201<br />
                      ‚Ä¢ <strong>M·∫∑c ƒë·ªãnh:</strong> t√™n_tr·∫≠n_YYYYMMDD
                    </small>
                  </div>
                </div>
                <div class="screenshot-actions">
                  <button id="take-screenshot-btn" class="btn btn-primary">
                    üì∏ Take Screenshot (Ctrl+Alt+S)
                  </button>
                  <button id="upload-btn" class="btn btn-success hidden">
                    ‚¨ÜÔ∏è Upload
                  </button>
                  <button id="cancel-btn" class="btn btn-danger hidden">
                    ‚ùå Cancel
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Screenshot Preview -->
          <div id="screenshot-preview" class="screenshot-preview hidden">
            <h3>Screenshot Preview</h3>
            <div class="preview-container">
              <img id="screenshot-image" alt="Screenshot Preview" />
            </div>
            <div class="preview-actions">
              <button id="confirm-upload-btn" class="btn btn-success">
                Upload Screenshot
              </button>
              <button id="cancel-upload-btn" class="btn btn-danger">
                ‚ùå Cancel
              </button>
            </div>
          </div>

          <!-- Screenshot Popup Modal -->
          <div id="screenshot-popup" class="screenshot-popup hidden">
            <div class="popup-overlay"></div>
            <div class="popup-content">
              <div class="popup-header">
                <h3>üì∏ Screenshot Ready</h3>
                <button id="popup-close-btn" class="popup-close">‚úñ</button>
              </div>
              <div class="popup-body">
                <div class="screenshot-info">
                  <div class="info-item">
                    <label>üìÅ Filename:</label>
                    <span id="popup-filename">screenshot_2025-09-24.png</span>
                  </div>
                  <div class="info-item">
                    <label>URL:</label>
                    <span id="popup-url">https://example.com</span>
                  </div>
                  <div class="info-item">
                    <label>üïê Time:</label>
                    <span id="popup-time">2025-09-24 15:07:40</span>
                  </div>
                </div>
                <div class="screenshot-preview-small">
                  <img id="popup-screenshot-image" alt="Screenshot Preview" />
                </div>
                <div class="screenshot-location">
                  <button
                    id="popup-open-location-btn"
                    class="btn btn-sm btn-outline-info"
                  >
                    üìÅ Open Screenshot Location
                  </button>
                </div>
                <div class="signal-selection">
                  <label for="popup-signal">üì° Select Signal:</label>
                  <div class="popup-signal-container">
                    <input
                      type="text"
                      id="popup-signal"
                      class="form-control"
                      placeholder="Search or select signal..."
                      autocomplete="off"
                    />
                    <div
                      id="popup-signal-dropdown"
                      class="popup-signal-dropdown hidden"
                    >
                      <div id="popup-signal-options"></div>
                    </div>
                  </div>

                  <!-- Create New Signal Section -->
                  <div
                    id="create-signal-section"
                    class="create-signal-section hidden"
                  >
                    <div class="create-signal-header">
                      <h4>‚ûï Create New Signal</h4>
                      <button
                        id="cancel-create-signal-btn"
                        class="btn btn-sm btn-secondary"
                      >
                        Cancel
                      </button>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="new-signal-name">Signal Name *</label>
                        <input
                          type="text"
                          id="new-signal-name"
                          class="form-control"
                          placeholder="Enter signal name..."
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="new-signal-description"
                          >Description (Optional)</label
                        >
                        <input
                          type="text"
                          id="new-signal-description"
                          class="form-control"
                          placeholder="Enter description..."
                        />
                      </div>
                    </div>
                    <div class="create-signal-actions">
                      <button id="create-signal-btn" class="btn btn-primary">
                        Create Signal
                      </button>
                      <button
                        id="cancel-create-signal-btn2"
                        class="btn btn-secondary"
                      >
                        Cancel
                      </button>
                    </div>
                  </div>

                  <!-- Show Create Signal Button -->
                  <div class="signal-actions">
                    <button
                      id="show-create-signal-btn"
                      class="btn btn-outline-primary"
                    >
                      ‚ûï Create New Signal
                    </button>
                  </div>
                </div>
              </div>
              <div class="popup-actions">
                <button id="popup-ok-btn" class="btn btn-success">
                  Upload Screenshot
                </button>
                <button id="popup-cancel-btn" class="btn btn-danger">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Status Bar -->
      <footer class="app-footer">
        <div class="status-info">
          <span id="status-text">Ready</span>
          <span id="hotkey-info"
            >Ctrl+Shift+Q: Screenshot | Ctrl+Shift+U: upload in pop up</span
          >
        </div>
      </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
      <div class="loading-spinner">
        <div class="spinner"></div>
        <div id="loading-text">Loading...</div>
      </div>
    </div>

    <!-- Upload Queue -->
    <div id="upload-queue" class="upload-queue hidden">
      <div class="queue-header">
        <h3>üì§ Upload Queue</h3>
        <button id="queue-toggle" class="queue-toggle">‚ñº</button>
      </div>
      <div id="queue-content" class="queue-content">
        <div id="queue-items"></div>
      </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification hidden">
      <div class="notification-content">
        <span id="notification-text"></span>
        <button id="notification-close">‚úñ</button>
      </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="settings-modal hidden">
      <div class="settings-overlay"></div>
      <div class="settings-content">
        <div class="settings-header">
          <h2>‚öôÔ∏è Settings</h2>
          <button id="settings-close-btn" class="settings-close">‚úñ</button>
        </div>
        <div class="settings-body">
          <!-- Keyboard Shortcuts Section -->
          <div class="settings-section">
            <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
            <div class="shortcut-help">
              <strong>üí° Supported Keys:</strong><br />
              ‚Ä¢ Letters: A-Z<br />
              ‚Ä¢ Numbers: 0-9<br />
              ‚Ä¢ Function keys: F1-F24<br />
              ‚Ä¢ Special keys: PrintScreen, Home, End, Insert, Delete, PageUp,
              PageDown<br />
              ‚Ä¢ Arrow keys: Up, Down, Left, Right<br />
              ‚Ä¢ Modifiers: Ctrl, Alt, Shift (can combine)<br />
              ‚Ä¢ Other: Escape, Tab, Enter, Space, Backspace
            </div>
            <div class="settings-group">
              <div class="settings-item">
                <label for="shortcut-screenshot">Take Screenshot:</label>
                <input
                  type="text"
                  id="shortcut-screenshot"
                  class="shortcut-input"
                  readonly
                  placeholder="Click to set shortcut"
                />
                <button class="btn-reset" data-shortcut="takeScreenshot">
                  Reset
                </button>
              </div>
              <div class="settings-item">
                <label for="shortcut-upload">Upload Screenshot:</label>
                <input
                  type="text"
                  id="shortcut-upload"
                  class="shortcut-input"
                  readonly
                  placeholder="Click to set shortcut"
                />
                <button class="btn-reset" data-shortcut="uploadScreenshot">
                  Reset
                </button>
              </div>
              <div class="settings-item">
                <label for="shortcut-cancel">Cancel/Escape:</label>
                <input
                  type="text"
                  id="shortcut-cancel"
                  class="shortcut-input"
                  readonly
                  placeholder="Click to set shortcut"
                />
                <button class="btn-reset" data-shortcut="cancelAction">
                  Reset
                </button>
              </div>
            </div>
          </div>

          <!-- General Settings Section -->
          <div class="settings-section">
            <h3>üîß General Settings</h3>
            <div class="settings-group">
              <div class="settings-item">
                <label>
                  <input type="checkbox" id="auto-minimize-checkbox" />
                  Auto-minimize to tray after upload
                </label>
              </div>
              <div class="settings-item">
                <label>
                  <input type="checkbox" id="check-updates-checkbox" />
                  Check for updates on startup
                </label>
              </div>
              <div class="settings-item">
                <label for="notification-duration"
                  >Success notification duration (seconds):</label
                >
                <input
                  type="number"
                  id="notification-duration"
                  min="5"
                  max="60"
                  value="15"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="settings-footer">
          <button id="settings-save-btn" class="btn btn-primary">
            Save Settings
          </button>
          <button id="settings-reset-all-btn" class="btn btn-danger">
            Reset All
          </button>
          <button id="settings-cancel-btn" class="btn btn-secondary">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
